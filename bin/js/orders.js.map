{"version":3,"sources":["orders.js"],"names":["checkIfOrders","$","length","show","hide","document","ready","window","orders","forEach","item","index","console","log","seatsHTML","seats","seatItem","seat","append","orderID","customerInformation","firstName","lastName","email","time","moment","format","prices","total","toFixed","on","val","toLowerCase","each","find","push","text","startsWith","includes","toUpperCase","removeClass","addClass","click","hasClass","parseInt","attr","Date","now","location","href"],"mappings":";;AAAA,IAAIA,aAAa,GAAG,SAAhBA,aAAgB,GAAM;AACxB,MAAGC,CAAC,CAAC,uBAAD,CAAD,CAA2BC,MAA3B,IAAqCD,CAAC,CAAC,sBAAD,CAAD,CAA0BC,MAA/D,IAAyED,CAAC,CAAC,sBAAD,CAAD,CAA0BC,MAA1B,IAAoC,CAAhH,EAAmH;AACjHD,IAAAA,CAAC,CAAC,YAAD,CAAD,CAAgBE,IAAhB;AACD,GAFD,MAEO;AACLF,IAAAA,CAAC,CAAC,YAAD,CAAD,CAAgBG,IAAhB;AACD;AACF,CAND;;AASAH,CAAC,CAAC,YAAW;AACXA,EAAAA,CAAC,CAACI,QAAD,CAAD,CAAYC,KAAZ,CAAkB,YAAW;AAC3BC,IAAAA,MAAM,CAACC,MAAP,CAAcC,OAAd,CAAsB,UAASC,IAAT,EAAeC,KAAf,EAAsB;AAC1CD,MAAAA,IAAI,GAAGH,MAAM,CAACC,MAAP,CAAeD,MAAM,CAACC,MAAP,CAAcN,MAAd,GAAuB,CAAxB,GAA6BS,KAA3C,CAAP;AACAC,MAAAA,OAAO,CAACC,GAAR,CAAYH,IAAZ;AACA,UAAII,SAAS,GAAG,EAAhB;AACAJ,MAAAA,IAAI,CAACK,KAAL,CAAWN,OAAX,CAAmB,UAASO,QAAT,EAAmB;AACpCF,QAAAA,SAAS,gCAAqBE,QAAQ,CAACC,IAA9B,SAAT;AACD,OAFD;AAGAhB,MAAAA,CAAC,CAAC,2BAAD,CAAD,CAA+BiB,MAA/B,kGAGiCR,IAAI,CAACS,OAHtC,kGAOsCT,IAAI,CAACU,mBAAL,CAAyBC,SAP/D,cAO4EX,IAAI,CAACU,mBAAL,CAAyBE,QAPrG,mGAWuCZ,IAAI,CAACU,mBAAL,CAAyBG,KAXhE,qGAewCb,IAAI,CAACc,IAf7C,gBAesDC,MAAM,CAACf,IAAI,CAACc,IAAN,CAAN,CAAkBE,MAAlB,CAAyB,cAAzB,CAftD,0FAmB8BhB,IAAI,CAACiB,MAAL,CAAYC,KAAZ,IAAqB,CAArB,GAAyB,MAAzB,GAAkC,MAAMlB,IAAI,CAACiB,MAAL,CAAYC,KAAZ,CAAkBC,OAAlB,CAA0B,CAA1B,CAnBtE,gGAuBoCf,SAvBpC,wGA2B+CJ,IAAI,CAACS,OA3BpD;AAgCD,KAvCD;AAwCAnB,IAAAA,aAAa;AACd,GA1CD;AA2CD,CA5CA,CAAD;AA8CAC,CAAC,CAAC,0BAAD,CAAD,CAA8B6B,EAA9B,CAAiC,OAAjC,EAA0C,YAAW;AACnD,MAAIC,GAAG,GAAG9B,CAAC,CAAC,IAAD,CAAD,CAAQ8B,GAAR,GAAcC,WAAd,EAAV;AACA/B,EAAAA,CAAC,CAAC,sBAAD,CAAD,CAA0BgC,IAA1B,CAA+B,YAAW;AACxC,QAAIlB,KAAK,GAAG,EAAZ;AACAd,IAAAA,CAAC,CAAC,IAAD,CAAD,CAAQiC,IAAR,CAAa,OAAb,EAAsBD,IAAtB,CAA2B,YAAW;AACpClB,MAAAA,KAAK,CAACoB,IAAN,CAAWlC,CAAC,CAAC,IAAD,CAAD,CAAQmC,IAAR,EAAX;AACD,KAFD;AAGAxB,IAAAA,OAAO,CAACC,GAAR;;AACA,QAAGZ,CAAC,CAAC,IAAD,CAAD,CAAQiC,IAAR,CAAa,gBAAb,EAA+BE,IAA/B,GAAsCJ,WAAtC,GAAoDK,UAApD,CAA+DN,GAA/D,KAAuE9B,CAAC,CAAC,IAAD,CAAD,CAAQiC,IAAR,CAAa,qBAAb,EAAoCE,IAApC,GAA2CJ,WAA3C,GAAyDK,UAAzD,CAAoEN,GAApE,CAAvE,IAAmJ9B,CAAC,CAAC,IAAD,CAAD,CAAQiC,IAAR,CAAa,sBAAb,EAAqCE,IAArC,GAA4CJ,WAA5C,GAA0DK,UAA1D,CAAqEN,GAArE,CAAnJ,IAAgOhB,KAAK,CAACuB,QAAN,CAAeP,GAAG,CAACQ,WAAJ,EAAf,CAAnO,EAAsQ;AACpQtC,MAAAA,CAAC,CAAC,IAAD,CAAD,CAAQuC,WAAR,CAAoB,QAApB;AACD,KAFD,MAEO;AACLvC,MAAAA,CAAC,CAAC,IAAD,CAAD,CAAQwC,QAAR,CAAiB,QAAjB;AACD;AACF,GAXD;AAYAzC,EAAAA,aAAa;AACd,CAfD;AAiBAC,CAAC,CAAC,4BAAD,CAAD,CAAgCyC,KAAhC,CAAsC,YAAW;AAC/CzC,EAAAA,CAAC,CAAC,4BAAD,CAAD,CAAgCuC,WAAhC,CAA4C,QAA5C;AACAvC,EAAAA,CAAC,CAAC,IAAD,CAAD,CAAQwC,QAAR,CAAiB,QAAjB;AACA,MAAIjB,IAAJ;;AACA,MAAGvB,CAAC,CAAC,IAAD,CAAD,CAAQ0C,QAAR,CAAiB,cAAjB,CAAH,EAAqC;AACnCnB,IAAAA,IAAI,GAAG,QAAP;AACD,GAFD,MAEO,IAAGvB,CAAC,CAAC,IAAD,CAAD,CAAQ0C,QAAR,CAAiB,aAAjB,CAAH,EAAoC;AACzCnB,IAAAA,IAAI,GAAG,SAAP;AACD,GAFM,MAEA,IAAGvB,CAAC,CAAC,IAAD,CAAD,CAAQ0C,QAAR,CAAiB,cAAjB,CAAH,EAAqC;AAC1CnB,IAAAA,IAAI,GAAG,UAAP;AACD,GAFM,MAEA;AACLvB,IAAAA,CAAC,CAAC,sBAAD,CAAD,CAA0BuC,WAA1B,CAAsC,QAAtC;AACA;AACD;;AACDvC,EAAAA,CAAC,CAAC,sBAAD,CAAD,CAA0BgC,IAA1B,CAA+B,YAAW;AACxCrB,IAAAA,OAAO,CAACC,GAAR,CAAY,MAAZ;;AACA,QAAI+B,QAAQ,CAAC3C,CAAC,CAAC,IAAD,CAAD,CAAQiC,IAAR,CAAa,YAAb,EAA2BW,IAA3B,CAAgC,WAAhC,CAAD,CAAR,IAA0DC,IAAI,CAACC,GAAL,KAAavB,IAAvE,CAAD,IAAkF,CAArF,EAAwF;AACtFvB,MAAAA,CAAC,CAAC,IAAD,CAAD,CAAQuC,WAAR,CAAoB,QAApB;AACD,KAFD,MAEO;AACLvC,MAAAA,CAAC,CAAC,IAAD,CAAD,CAAQwC,QAAR,CAAiB,QAAjB;AACD;AACF,GAPD;AAQAzC,EAAAA,aAAa;AACd,CAvBD;AAyBAC,CAAC,CAACI,QAAD,CAAD,CAAYyB,EAAZ,CAAe,OAAf,EAAwB,oBAAxB,EAA8C,YAAW;AACvDvB,EAAAA,MAAM,CAACyC,QAAP,CAAgBC,IAAhB,iCAA4ChD,CAAC,CAAC,IAAD,CAAD,CAAQ4C,IAAR,CAAa,eAAb,CAA5C;AACD,CAFD","sourcesContent":["let checkIfOrders = () => {\n  if($('.orders-table .hidden').length == $('.orders-table .order').length || $('.orders-table .order').length == 0) {\n    $('.no-orders').show()\n  } else {\n    $('.no-orders').hide()\n  }\n}\n\n\n$(function() {\n  $(document).ready(function() {\n    window.orders.forEach(function(item, index) {\n      item = window.orders[(window.orders.length - 1) - index]\n      console.log(item)\n      let seatsHTML = ''\n      item.seats.forEach(function(seatItem) {\n        seatsHTML+=`<p class=\"pill\">${seatItem.seat}</p>`\n      })\n      $('.orders-table table tbody').append(`\n        <tr class=\"order\">\n          <td>\n            <p class=\"order-id-info\">${item.orderID}</p>\n          </td>\n\n          <td>\n            <p class=\"customer-name-info\">${item.customerInformation.firstName} ${item.customerInformation.lastName}</p>\n          </td>\n\n          <td>\n            <p class=\"customer-email-info\">${item.customerInformation.email}</p>\n          </td>\n\n          <td>\n            <p class=\"date-info\" data-time=\"${item.time}\">${moment(item.time).format('MMM DD, YYYY')}</p>\n          </td>\n\n          <td>\n            <p class=\"price-info\">${item.prices.total == 0 ? 'Free' : '$' + item.prices.total.toFixed(2)}</p>\n          </td>\n\n          <td>\n            <div class=\"pill-flex-wrap\">${seatsHTML}\n          </td>\n\n          <td>\n            <div class=\"action-btn\" data-order-id=\"${item.orderID}\">\n              <div class=\"icon\"></div>\n            </div>\n          </td>\n        </tr>`)\n    })\n    checkIfOrders()\n  })\n})\n\n$('.search-wrap .search-bar').on('input', function() {\n  let val = $(this).val().toLowerCase()\n  $('.orders-table .order').each(function() {\n    let seats = []\n    $(this).find('.pill').each(function() {\n      seats.push($(this).text())\n    })\n    console.log()\n    if($(this).find('.order-id-info').text().toLowerCase().startsWith(val) || $(this).find('.customer-name-info').text().toLowerCase().startsWith(val) || $(this).find('.customer-email-info').text().toLowerCase().startsWith(val) || seats.includes(val.toUpperCase())) {\n      $(this).removeClass('hidden')\n    } else {\n      $(this).addClass('hidden')\n    }\n  })\n  checkIfOrders()\n})\n\n$('.filter-bar .filter-option').click(function() {\n  $('.filter-bar .filter-option').removeClass('active')\n  $(this).addClass('active')\n  let time;\n  if($(this).hasClass('today-filter')) {\n    time = 86400000;\n  } else if($(this).hasClass('week-filter')) {\n    time = 604800000;\n  } else if($(this).hasClass('month-filter')) {\n    time = 2592000000;\n  } else {\n    $('.orders-table .order').removeClass('hidden');\n    return;\n  }\n  $('.orders-table .order').each(function() {\n    console.log('test')\n    if((parseInt($(this).find('.date-info').attr('data-time')) - (Date.now() - time)) >= 0) {\n      $(this).removeClass('hidden')\n    } else {\n      $(this).addClass('hidden')\n    }\n  })\n  checkIfOrders()\n})\n\n$(document).on('click', '.order .action-btn', function() {\n  window.location.href=`/admin/manage-order/${$(this).attr('data-order-id')}`\n})\n"],"file":"orders.js"}