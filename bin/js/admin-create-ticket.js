"use strict";var orderData={};/*

  MODULE 1 FUNCTIONS

*/ /*

  MODULE 2 FUNCTIONS

*/$(function(){var b=30,c=["A","B","C"],d=["A","B","C","D","E","F","G","H","I","J","K","L"],e=0,f=function(){for(var e=1;e<=12;e++){for(var f,g=[],h=[],j=1;j<=b;j++)f="seat available",c.includes(d[e-1])&&(f+=" vip-seat"),j>b/2?h.push("<div class=\"".concat(f,"\" data-seat=\"").concat(j).concat(d[e-1],"\"><div class=\"icon\"></div></div>")):g.push("<div class=\"".concat(f,"\" data-seat=\"").concat(j).concat(d[e-1],"\"><div class=\"icon\"></div></div>"));$(".module1 .seat-wrap").append("<div class=\"row row".concat(e,"\"><div class=\"column1 column\">").concat(g.join(""),"</div><p class=\"row-letter\">").concat(d[e-1],"</p><div class=\"column2 column\">").concat(h.join(""),"</div></div>"))}},g=function(){window.takenSeats&&window.takenSeats.forEach(function(a){$(".module1 .seat-wrap .seat[data-seat=\"".concat(a,"\"]")).addClass("taken").removeClass("available")})},h=function(){0<e?$(".module1 .next-step").removeClass("disabled"):$(".module1 .next-step").addClass("disabled")};$(document).on("click",".module1 .seat",function(){$(this).hasClass("taken")||($(this).hasClass("selected")?($(this).removeClass("selected"),e--):(e++,$(this).addClass("selected")),h())}),$(document).ready(function(){f(),g()})}),$(function(){var a=["A","B","C"],b=function(){var b=orderData.seats;b.forEach(function(b){var c="";b.name&&(c=b.name,$(".module2 .next-step").removeClass("disabled"));var d=".ga-tickets";a.includes(b.seat[b.seat.length-1])&&(d=".vip-tickets"),$(".module2 .form-content ".concat(d," .inputs-wrap")).append("<div class=\"seat-input-wrap\" data-seat=\"".concat(b.seat,"\"><div class=\"seat-number-wrap\"><p class=\"seat-number\">").concat(b.seat,"</p></div><input value=\"").concat(c,"\" class=\"seat-name-inpt\" type=\"text\" placeholder=\"First and Last Name\" onkeypress=\"return (event.charCode >= 97 && event.charCode <= 122) || (event.charCode >= 65 && event.charCode <= 90) || event.charCode == 32\"/></div>"))}),0==$(".module2 .ga-tickets .inputs-wrap").children().length?($(".module2 .ga-tickets .no-tickets").show(),$(".module2 .ga-tickets .inputs-wrap").hide()):($(".module2 .ga-tickets .no-tickets").hide(),$(".module2 .ga-tickets .inputs-wrap").show()),0==$(".module2 .vip-tickets .inputs-wrap").children().length?($(".module2 .vip-tickets .no-tickets").show(),$(".module2 .vip-tickets .inputs-wrap").hide()):($(".module2 .vip-tickets .no-tickets").hide(),$(".module2 .vip-tickets .inputs-wrap").show())};$(document).on("input",".module2 .seat-name-inpt",function(){var a=$(this).val(),b=!0;$(".module2 .seat-name-inpt").each(function(){var a=$(this).val().split(" ");if(!(2<=a.length))return void(b=!1);return 0>=a[0].length||0>=a[1].length?void(b=!1):void 0}),b?$(".module2 .next-step").removeClass("disabled"):$(".module2 .next-step").addClass("disabled")}),$(".module2 .go-back-btn").click(function(){$(".module1").removeClass("hidden"),$(".module2").addClass("hidden"),$(".module2 .inputs-wrap").empty()}),$(".module1 .next-step").click(function(){$(this).hasClass("disabled")||($(".module1").addClass("hidden"),orderData.seats=[],$(".module1 .seat-wrap .selected").each(function(){orderData.seats.push({seat:$(this).attr("data-seat")})}),$(".module2").removeClass("hidden"),b())})}),$(function(){$(".module3 input").on("input",function check(){var a=!0;$(".module3 input").each(function(){if(!$(this).hasClass("address-line-two-inpt"))if($(this).val().replace(/ /g,"")){if(0>=$(this).val().length)return void(a=!1);!$(".module3 .email-inpt").val()||$(".module3 .email-inpt").val().includes("@")&&$(".module3 .email-inpt").val().includes(".")||(a=!1)}else a=!1}),a?$(".module3 .finish-order-btn").removeClass("disabled"):$(".module3 .finish-order-btn").addClass("disabled")}),$(".module3 .go-back-btn").click(function(){$(".module2").removeClass("hidden"),$(".module3").addClass("hidden")}),$(".module2 .next-step").click(function(){$(this).hasClass("disabled")||($(".module2").addClass("hidden"),orderData.tempSeats=[],$(".module2 .inputs-wrap .seat-name-inpt").each(function(){var a=$(this).parent().attr("data-seat"),b=$(this).val();orderData.tempSeats.push({seat:a,name:b})}),orderData.seats=orderData.tempSeats,delete orderData.tempSeats,$(".module3").removeClass("hidden"))})}),$(function(){var a=1,b=function(){$(".order-complete-page .info").text("This order has been processed successfully. Information regarding the order has been sent to ".concat(orderData.customerInformation.firstName," ").concat(orderData.customerInformation.lastName," via email.")),setInterval(function(){15==a&&window.close(),a++,$(".order-complete-page .notify-redirect span").text(parseInt($(".order-complete-page .notify-redirect span").text()-1))},1e3)};$(".module3 .finish-order-btn").click(function(){$(this).hasClass("disabled")||($(".module3").addClass("hidden"),orderData.customerInformation={firstName:$(".first-name-inpt").val(),lastName:$(".last-name-inpt").val(),email:$(".email-inpt").val(),phoneNumber:$(".phone-number-inpt").val(),address:{addressLineOne:$(".address-line-one-inpt").val(),addressLineTwo:$(".address-line-two-inpt").val(),city:$(".city-inpt").val(),state:$(".state-inpt").val(),zipCode:$(".zip-code-inpt").val()}},$.ajax({url:"/admin/createTicket",type:"post",data:orderData}),$(".order-complete-page").removeClass("hidden"),b())})});