{"version":3,"sources":["dashboard.js"],"names":["vipRows","gaSeatTotal","vipSeatTotal","getSeatTotals","vipSeatsSold","gaSeatsSold","window","orders","forEach","item","seats","includes","seat","slice","$","setVIPSeats","percent","offset","rotation","text","css","setGASeats","document","ready","getWeeksRevenue","revenue","time","Date","now","prices","total","toFixed","getGARevenue","gaSeatPrice","getVIPRevenue","vipSeatPrice","length","val","seatPrices","gaSeats","vipSeats","fees","on","e","console","log","click","input","siblings","parseFloat","data","ajax","url","type","success","location","reload","href","attr","index","orderData","seatsHTML","append","customerInformation","firstName","lastName","moment","format","orderID"],"mappings":"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","sourcesContent":["let vipRows = ['A', 'B', 'C']\nlet gaSeatTotal = 270\nlet vipSeatTotal = 90\n\nconst getSeatTotals = () => {\n  let vipSeatsSold = 0;\n  let gaSeatsSold = 0;\n  window.orders.forEach(function(item) {\n    item.seats.forEach(function(item) {\n      if(vipRows.includes(item.seat.slice(-1))) {\n        vipSeatsSold++\n      } else {\n        gaSeatsSold++\n      }\n    })\n  })\n  return {vipSeatsSold: vipSeatsSold, gaSeatsSold: gaSeatsSold}\n}\n\n$(function() { // Set Seats Sold Data Widgets\n  const setVIPSeats = (vipSeatsSold) => {\n    let percent = (vipSeatsSold/vipSeatTotal)*100\n    const offset = 628.318530718 - percent / 100 * 628.318530718\n    const rotation = 360 * (percent / 100)\n    $('.vip-seats-sold-widget .seats-sold').text(vipSeatsSold)\n    $('.vip-seats-sold-widget .seats-left').text(vipSeatTotal - vipSeatsSold)\n    $('.vip-seats-sold-widget .g2').css('stroke-dashoffset', offset)\n    $('.vip-seats-sold-widget .marker').css('transform', `rotate(${rotation}deg)`)\n  }\n\n  const setGASeats= (gaSeatsSold) => {\n    let percent = (gaSeatsSold/gaSeatTotal)*100\n    const offset = 628.318530718 - percent / 100 * 628.318530718\n    const rotation = 360 * (percent / 100)\n    $('.ga-seats-sold-widget .seats-sold').text(gaSeatsSold)\n    $('.ga-seats-sold-widget .seats-left').text(gaSeatTotal - gaSeatsSold)\n    $('.ga-seats-sold-widget .g2').css('stroke-dashoffset', offset)\n    $('.ga-seats-sold-widget .marker').css('transform', `rotate(${rotation}deg)`)\n  }\n\n  $(document).ready(function() {\n    setVIPSeats(getSeatTotals().vipSeatsSold)\n    setGASeats(getSeatTotals().gaSeatsSold)\n  })\n})\n\n$(function() { // Set Info Widgets\n\n  const getWeeksRevenue = () => {\n    let revenue = 0;\n    window.orders.forEach(function(item) {\n      if((item.time - (Date.now() - 604800000)) > 0) {\n        revenue += item.prices.total\n      }\n    })\n    return revenue.toFixed(2)\n  }\n\n  const getGARevenue = () => {\n    let revenue = 0;\n    window.orders.forEach(function(item) {\n      revenue += item.prices.gaSeatPrice\n    })\n    return revenue.toFixed(2)\n  }\n\n  const getVIPRevenue = () => {\n    let revenue = 0;\n    window.orders.forEach(function(item) {\n      revenue += item.prices.vipSeatPrice\n    })\n    return revenue.toFixed(2)\n  }\n\n  $(document).ready(function() {\n    $('.info-widgets .ga-revenue-widget .info').text(`$${getGARevenue()}`)\n    $('.info-widgets .vip-revenue-widget .info').text(`$${getVIPRevenue()}`)\n    $('.info-widgets .number-of-orders-widget .info').text(window.orders.length)\n    $('.info-widgets .this-weeks-earnings-widget .info').text(`$${getWeeksRevenue()}`)\n  })\n})\n\n$(function() { // Set Prices Widget\n  $(document).ready(function() {\n    $('.seat-prices-widget .ga-seat-price .price-inpt').val(window.seatPrices.gaSeats.toFixed(2))\n    $('.seat-prices-widget .vip-seat-price .price-inpt').val(window.seatPrices.vipSeats.toFixed(2))\n    $('.seat-prices-widget .fees-price .price-inpt').val(window.seatPrices.fees.toFixed(2))\n  })\n})\n\n$('.seat-prices-widget .price-inpt').on('input', function(e) {\n  console.log(e)\n})\n\n$('.seat-prices-widget .add-btn').click(function() {\n  let input = $(this).siblings('.price-inpt')\n  input.val((parseFloat(input.val()) + 1).toFixed(2))\n})\n\n$('.seat-prices-widget .minus-btn').click(function() {\n  let input = $(this).siblings('.price-inpt')\n  if(parseFloat(input.val()) - 1 >= 0) {\n    input.val((parseFloat(input.val()) - 1).toFixed(2))\n  }\n})\n\n$('.seat-prices-widget .update-prices').click(function() {\n  let data = {\n    gaSeats: parseFloat($('.seat-prices-widget .ga-seat-price .price-inpt').val()),\n    vipSeats: parseFloat($('.seat-prices-widget .vip-seat-price .price-inpt').val()),\n    fees: parseFloat($('.seat-prices-widget .fees-price .price-inpt').val())\n  }\n  $.ajax({\n    url: '/admin/setSeatPrices',\n    type: 'post',\n    data: data,\n    success: function() {\n      window.location.reload()\n    }\n  })\n})\n\n$(document).on('click', '.recent-orders .action-btn', function() {\n  window.location.href=`/admin/manage-order/${$(this).attr('data-order')}`\n})\n\n$(function() {\n  $(document).ready(function() {\n    window.orders.forEach(function(item, index) {\n      if(index >= 5) {\n        return false;\n      }\n      let orderData = window.orders[(window.orders.length - 1) - index]\n      let seatsHTML = \"\"\n      orderData.seats.forEach(function(item) {\n        seatsHTML+= `<p class=\"pill\">${item.seat}</p>`\n      })\n      $('.recent-orders table tbody').append(`<tr><td><p class=\"customer-info\">${orderData.customerInformation.firstName} ${orderData.customerInformation.lastName}</p></td><td><p class=\"date-info\">${moment(orderData.time).format('MMM DD, YYYY')}</p></td><td><p class=\"price-info\">${orderData.prices.total == 0 ? 'Free' : '$' + orderData.prices.total.toFixed(2)}</p></td><td><div class=\"pill-flex-wrap\">${seatsHTML}</td><td><div class=\"action-btn\" data-order=\"${orderData.orderID}\"><div class=\"icon\"></div></div></td></tr>`)\n    })\n  })\n})\n"],"file":"dashboard.js"}